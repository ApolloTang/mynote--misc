How to inspect object in node-cli
----------------------------------

TL:DR
=====

Problem with console.log():

  if object is nested deeper than 3 level it is hidden.

Solution:

  Use JSON.stringify
  console.log(JSON.stringify(myObj, null, 2))

Problem with JSON.stringify

  If object container circular reference it will fail.

Solution:

  console.dir(myObject, { depth: null });

  console.dir take options object in second argument.
  this is the same object used to configure util.inspect()


Should you use util.inspect() ?

  There is no need to use util.inspect() b/c for most of our usecase
  itâ€™s already included in console.dir():

    console.log(util.inspect(obj, opt))

  in most case is equivalent to:

    console.dir(obj, opt)



Details
=======

Node's "Console.log" only show 3 levels:

  var myObject = {
    a: {
      b: {
        c: { d: { e: 'e' } } }
    }
  }
  console.log(myObject)

Result:

  { a: { b: { c: [Object] } } }

To see a formated nested object use "JSON.stringify":

  console.dir(JSON.stringify(myObject,null, 2))

Result:

  {
    "a": {
      "b": {
        "c": {
          "d": {
            "e": "e"
          }
        }
      }
    }
  }

However "JSON.stringify" can not work with object with circular reference:

  var d = {}; d.d = d // <--- this is a circular referencing object [1]
  var circular = {
    a: {
      b: {
        c: { d: d }
      }
    }
  }
  console.log(JSON.stringify(circular, null, 2))

Result:

  TypeError: Converting circular structure to JSON

To suppress the error you can use "console.dir":

  console.dir(circular, {depth:null})

Result:

  {
    a: {
      b: { c: { d: { e: 'e' } } }
    }
  }


However, output of console.dir only partially formated.


---
Ref:

[1] https://stackoverflow.com/a/26813465
[2] https://stackoverflow.com/a/27534731

Related:
https://nodejs.org/en/knowledge/getting-started/how-to-use-util-inspect/
https://stackoverflow.com/questions/10729276/how-can-i-get-the-full-object-in-node-jss-console-log-rather-than-object/32866532#32866532



